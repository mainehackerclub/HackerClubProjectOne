<html>
<head>
  <title>Hacker Club Project One</title>
  <script type="text/javascript" src="http://l2.io/ip.js?var=myip"></script>
  <script src="/socket.io/socket.io.js"></script>
  <script type="text/javascript" src="src/d3/d3.js"></script>
  <script type="text/javascript" src="src/d3/d3.geom.js"></script>
  <script>

    function Event(kind, method, url, data) {
      this.kind = kind;
      this.method = method;
      this.url = url;
      this.data = data;
    };
    
    function Client(IP, ID) {
      this.IP = IP;
      this.ID = ID;
    };

    var socket = io.connect('http://localhost');
    var randId = Math.floor(Math.random()*1000000000);
    var client = new Client(myip, randId);
    var event = new Event('web', 'hit', '/', client); 
    console.log(event);
    socket.emit('clientIP', event);
    console.log(myip);
    socket.on('hit', function(data) {
      console.log(data);
    });

  </script>
</head>
<body>
  A beginning.
  <div id="wow1"></div>
  <div id="wow2"></div>
  <script type="text/javascript">
    var wow1 = d3.select("#wow1")
        .append("svg")
        .attr("width", 200)
        .attr("height", 200);

    wow1.append("circle")
      .style("stroke", "gray")
      .style("fill", "yellow")
      .attr("r", 90)
      .attr("cx", 100)
      .attr("cy", 100);

   socket.on('pulse', function(data) {
       var circle = wow1.selectAll("circle");
       circle.attr("r",30);
       console.log(data);
       });

  </script>
</body>
</html>
